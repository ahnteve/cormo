// Generated by CoffeeScript 1.3.3
(function() {
  var AdapterBase, _plural_rules, _pluralize, _uncountable_words;

  _plural_rules = [['person$', 'people'], ['man$', 'men'], ['s$', 's'], ['$', 's']];

  _uncountable_words = ['fish', 'money', 'rice', 'sheep'];

  _pluralize = function(str) {
    var rule, _i, _len;
    if (_uncountable_words.indexOf(str.toLowerCase()) === -1) {
      for (_i = 0, _len = _plural_rules.length; _i < _len; _i++) {
        rule = _plural_rules[_i];
        if (!(rule[0] instanceof RegExp)) {
          rule[0] = new RegExp(rule[0], 'i');
        }
        if (rule[0].test(str)) {
          return str.replace(rule[0], rule[1]);
        }
      }
    }
    return str;
  };

  AdapterBase = (function() {

    function AdapterBase() {}

    AdapterBase.wrapError = function(msg, cause) {
      var error;
      error = new Error(msg);
      error.cause = cause;
      return error;
    };

    AdapterBase.toCollectionName = function(name) {
      return _pluralize(name.toLowerCase());
    };

    return AdapterBase;

  })();

  module.exports = AdapterBase;

}).call(this);
